#general c++ compiling rule

EXECS=CPassThrough CRefBuried

all : ${EXECS}
.PHONY : all

CC =		@CC@
CXX =		@CXX@
CXXFLAGS =	@CXXFLAGS@ @CPPFLAGS@ @DEFS@
LDFLAGS =	@LDFLAGS@ @LIBS@

OBJS=compton.o block.o randomInit.o
DEPS=compton.h block.h

$(OBJS):%.o: %.cpp
		${CXX} $(CXXFLAGS) -c -o $@ $<

$(EXECS):%:%.o ${OBJS} ${DEPS}
		${CXX} -o $* $< ${OBJS} ${LDFLAGS}

clean:
		rm -f *.o ${EXECS}
